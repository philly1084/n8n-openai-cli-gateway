providers:
  - id: gemini-cli
    type: cli
    description: Gemini via OpenCode + Google OAuth plugin
    models:
      - id: gemini-2.5-pro
        providerModel: google/gemini-2.5-pro
        fallbackModels:
          - gpt-4.1
      - id: gemini-2.5-flash
        providerModel: google/gemini-2.5-flash
        fallbackModels:
          - gpt-4.1
    responseCommand:
      executable: opencode
      args:
        - run
        - --model
        - "{{provider_model}}"
        - --format
        - default
        - "{{prompt}}"
      input: prompt_stdin
      output: text
      timeoutMs: 240000
    auth:
      loginCommand:
        executable: opencode
        args:
          - auth
          - login
        timeoutMs: 900000
      statusCommand:
        executable: sh
        args:
          - -c
          - opencode auth list | grep -qi google
        timeoutMs: 30000

  - id: antigravity-cli
    type: cli
    description: Antigravity CLI adapter
    models:
      - id: antigravity-default
        providerModel: default
    responseCommand:
      executable: antigravity
      args:
        - chat
        - --model
        - "{{provider_model}}"
        - --json
      input: request_json_stdin
      output: json_contract
      timeoutMs: 240000
    auth:
      loginCommand:
        executable: antigravity
        args:
          - auth
          - login
          - --no-browser
        timeoutMs: 900000
      statusCommand:
        executable: antigravity
        args:
          - auth
          - status
          - --json
        timeoutMs: 30000

  - id: codex-cli
    type: cli
    description: OpenAI Codex CLI adapter
    models:
      - id: codex-latest
        providerModel: codex-latest
        fallbackModels:
          - gemini-2.5-pro
      - id: gpt-4.1
        providerModel: gpt-4.1
        fallbackModels:
          - gemini-2.5-flash
    responseCommand:
      executable: codex
      args:
        - chat
        - --model
        - "{{provider_model}}"
        - --json
      input: request_json_stdin
      output: json_contract
      timeoutMs: 240000
    auth:
      loginCommand:
        executable: codex
        args:
          - login
          - --no-browser
        timeoutMs: 900000
      statusCommand:
        executable: codex
        args:
          - whoami
          - --json
        timeoutMs: 30000
